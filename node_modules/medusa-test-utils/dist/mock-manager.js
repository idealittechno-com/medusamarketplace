"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _default = {
  connection: {
    getMetadata: function getMetadata(target) {
      var _target$metadata;

      return (_target$metadata = target["metadata"]) !== null && _target$metadata !== void 0 ? _target$metadata : {
        columns: []
      };
    }
  },
  getRepository: function getRepository(repo) {
    return repo;
  },
  withRepository: function withRepository(repo) {
    if (repo) {
      return Object.assign(repo, {
        manager: this
      });
    }

    return repo;
  },
  transaction: function transaction(isolationOrCb, cb) {
    if (typeof isolationOrCb === "string") {
      return cb(this);
    } else {
      return isolationOrCb(this);
    }
  }
};
exports["default"] = _default;